{
  "success": true,
  "url": "https://google.com",
  "browser": "chromium",
  "headless": false,
  "actions": [
    {
      "type": "navigate",
      "target": "https://google.com",
      "description": "Navigate to https://google.com"
    },
    {
      "type": "search",
      "target": "search_box",
      "value": "openai",
      "description": "Search for: openai"
    },
    {
      "type": "click",
      "target": "search",
      "description": "Click on search"
    }
  ],
  "total_steps": 3,
  "passed": 2,
  "failed": 1,
  "success_rate": 66.66666666666666,
  "passed_tests": [
    {
      "step": 1,
      "action": "navigate",
      "description": "Navigate to https://google.com",
      "screenshot": "static\\screenshots\\step_1_20260218_235210.png"
    },
    {
      "step": 2,
      "action": "search",
      "description": "Search for: openai",
      "value": "openai",
      "screenshot": "static\\screenshots\\step_2_20260218_235210.png"
    }
  ],
  "failed_tests": [
    {
      "step": 3,
      "action": "click",
      "description": "Click on search",
      "error": "Locator.wait_for: Timeout 10000ms exceeded.\nCall log:\n  - waiting for locator(\"button:has-text('search'), input[type='submit'], a:has-text('search'), [role='button']:has-text('search')\").first to be visible\n"
    }
  ],
  "generated_code": "from playwright.sync_api import sync_playwright\nimport sys\nimport json\nimport time\nimport os\nfrom datetime import datetime\n\ndef run_test():\n    results = {\n        'passed': [],\n        'failed': [],\n        'screenshots': [],\n        'steps': []\n    }\n    \n    # Create screenshots directory\n    screenshots_dir = os.path.join('static', 'screenshots')\n    os.makedirs(screenshots_dir, exist_ok=True)\n    timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')\n    \n    with sync_playwright() as p:\n        # Launch Google Chrome browser in visible mode\n        browser = p.chromium.launch(headless=False, slow_mo=800)\n        context = browser.new_context(viewport={'width': 1920, 'height': 1080})\n        page = context.new_page()\n        page.set_default_timeout(30000)\n        \n        print('Google Chrome browser launched in visible mode', file=sys.stderr)\n        \n        try:\n            # Step 1: Navigate to https://google.com\n            try:\n                page.goto('https://google.com')\n                page.wait_for_load_state('networkidle')\n                # Take screenshot after navigation\n                screenshot_path = os.path.join(screenshots_dir, f'step_1_{timestamp}.png')\n                page.screenshot(path=screenshot_path, full_page=True)\n                results['screenshots'].append(screenshot_path)\n                results['passed'].append({'step': 1, 'action': 'navigate', 'description': 'Navigate to https://google.com', 'screenshot': screenshot_path})\n            except Exception as e:\n                results['failed'].append({'step': 1, 'action': 'navigate', 'description': 'Navigate to https://google.com', 'error': str(e)})\n            \n            # Step 2: Search for: openai\n            try:\n                # Search with multiple strategies\n                search_found = False\n                search_selectors = [\n                    'textarea[name=\"q\"]',  # Google's new search (textarea)\n                    'input[name=\"q\"]',     # Classic Google search\n                    'input[type=\"search\"]', # Generic search\n                    'input[aria-label*=\"Search\"]',  # ARIA search\n                    'input[placeholder*=\"Search\"]', # Placeholder search\n                    '#search', '.search-input', '[role=\"searchbox\"]'\n                ]\n                for selector in search_selectors:\n                    try:\n                        elements = page.locator(selector)\n                        count = elements.count()\n                        if count > 0:\n                            element = elements.first\n                            element.wait_for(state='visible', timeout=3000)\n                            element.click()\n                            page.wait_for_timeout(500)\n                            element.fill('openai')\n                            page.wait_for_timeout(800)\n                            page.keyboard.press('Enter')\n                            page.wait_for_timeout(2000)\n                            # Take screenshot after search\n                            screenshot_path = os.path.join(screenshots_dir, f'step_2_{timestamp}.png')\n                            page.screenshot(path=screenshot_path, full_page=True)\n                            results['screenshots'].append(screenshot_path)\n                            search_found = True\n                            break\n                    except Exception as sel_err:\n                        continue\n                if search_found:\n                    screenshot_path = os.path.join(screenshots_dir, f'step_2_{timestamp}.png') if screenshot_path else 'N/A'\n                    results['passed'].append({'step': 2, 'action': 'search', 'description': 'Search for: openai', 'value': 'openai', 'screenshot': screenshot_path})\n                else:\n                    raise Exception('Could not find search box with any selector')\n            except Exception as e:\n                results['failed'].append({'step': 2, 'action': 'search', 'description': 'Search for: openai', 'error': str(e)})\n            \n            # Step 3: Click on search\n            try:\n                element = page.locator(\"button:has-text('search'), input[type='submit'], a:has-text('search'), [role='button']:has-text('search')\").first\n                element.wait_for(state='visible', timeout=10000)\n                element.scroll_into_view_if_needed()\n                page.wait_for_timeout(500)\n                element.click()\n                page.wait_for_timeout(1000)\n                # Take screenshot after click\n                screenshot_path = os.path.join(screenshots_dir, f'step_3_{timestamp}.png')\n                page.screenshot(path=screenshot_path, full_page=True)\n                results['screenshots'].append(screenshot_path)\n                results['passed'].append({'step': 3, 'action': 'click', 'description': 'Click on search', 'screenshot': screenshot_path})\n            except Exception as e:\n                results['failed'].append({'step': 3, 'action': 'click', 'description': 'Click on search', 'error': str(e)})\n            \n            \n            # Mark test as complete\n            results['status'] = 'completed'\n            \n        except Exception as e:\n            results['failed'].append({\n                'step': 'execution',\n                'error': str(e)\n            })\n            results['status'] = 'error'\n        finally:\n            # In visible mode, keep browser open for viewing\n            if not False:\n                print('\\n' + '='*70, file=sys.stderr)\n                print('   TEST EXECUTION COMPLETED!', file=sys.stderr)\n                print('   Browser will stay open for 60 seconds so you can see the results.', file=sys.stderr)\n                print('   You can close it manually anytime.', file=sys.stderr)\n                print('='*70 + '\\n', file=sys.stderr)\n                try:\n                    page.wait_for_timeout(60000)  # 60 seconds (1 minute)\n                except:\n                    pass\n            browser.close()\n            print('Browser closed.', file=sys.stderr)\n        \n        return results\n\nif __name__ == '__main__':\n    result = run_test()\n    print(json.dumps(result))",
  "execution_status": "completed",
  "screenshots": [
    "static\\screenshots\\step_1_20260218_235210.png",
    "static\\screenshots\\step_2_20260218_235210.png"
  ]
}